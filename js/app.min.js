(()=>{"use strict";const e=document.querySelector(".header__top"),t=document.querySelector(".header-menu__icon"),i=document.querySelector(".header-menu__body"),s=document.querySelector(".header-menu__body-inner"),n=document.querySelector(".wrapper"),r=document.body,o=i.querySelectorAll("a"),a=window.matchMedia("(max-width: 768px)").matches;function l(e){const s=document.querySelectorAll('a[href], button, input, textarea, select, [tabindex]:not([tabindex="-1"])');e?(s.forEach(e=>{i.contains(e)?e.inert=!1:e.inert=!0,t.inert=!1}),setTimeout(()=>{o[0]?.focus()},100)):(s.forEach(e=>{e.inert=!1}),window.matchMedia("(max-width: 768px)").matches&&o.forEach(e=>{e.inert=!0}))}a&&o.forEach(e=>{e.inert=!0}),i&&t&&(t.addEventListener("click",e=>{e.stopPropagation();const s="true"===t.getAttribute("aria-expanded"),n=!s;t.classList.toggle("active"),i.classList.toggle("active"),r.classList.toggle("locked"),t.setAttribute("aria-expanded",String(!s)),l(n)}),i.addEventListener("click",e=>{e.stopPropagation()})),document.addEventListener("keydown",e=>{"Escape"===e.key&&i.classList.contains("active")&&(t.classList.toggle("active"),i.classList.toggle("active"),r.classList.toggle("locked"),t.setAttribute("aria-expanded","false"),l(!1),t.focus())}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".header-menu__list");e&&s&&(e.clientHeight>=s.clientHeight&&s.classList.add("shadow"),s.addEventListener("scroll",function(){this.scrollTop+this.clientHeight>=this.scrollHeight-2?s.classList.remove("shadow"):s.classList.add("shadow")}))}),document.querySelectorAll(".menu-link").forEach(s=>{s.addEventListener("click",function(s){s.preventDefault();const n=this.getAttribute("href").substring(1),o=document.getElementById(n),d=e.offsetHeight,c=o.getBoundingClientRect().top+window.scrollY-d;if(window.scrollTo({top:c,behavior:"smooth"}),a){const e="true"===t.getAttribute("aria-expanded"),s=!e;t.classList.toggle("active"),i.classList.toggle("active"),r.classList.toggle("locked"),t.setAttribute("aria-expanded",String(!e)),l(s)}setTimeout(()=>{o.hasAttribute("tabindex")||o.setAttribute("tabindex","-1"),o.focus()},700)})});const d=document.querySelector(".full-screen");let c=0;function p(){const t=window.pageYOffset||document.documentElement.scrollTop,s=d.getBoundingClientRect(),r=s.top+t+s.height/2,o=t>c,a=Math.abs(t-c);if(t>=r){let t=e.clientHeight;n.style.paddingTop=t+"px",e.classList.remove("unfixing"),e.classList.add("fixed"),a>10&&(o&&!i.classList.contains("active")?e.classList.remove("visible"):e.classList.add("visible"))}else e.classList.contains("fixed")?(e.classList.add("unfixing"),e.classList.remove("visible"),setTimeout(()=>{e.classList.remove("fixed","unfixing"),n.style.paddingTop=""},150)):(e.classList.remove("fixed","visible","unfixing"),n.style.paddingTop="");a>10&&(c=t)}document.addEventListener("DOMContentLoaded",function(){if(e&&d){p();let e=!1;window.addEventListener("scroll",()=>{e||(requestAnimationFrame(function(){p(),e=!1}),e=!0)}),p()}else console.error("Не знайдено хедер або перший блок контенту");e.addEventListener("focusin",()=>{e.classList.add("visible")})});let m=document.querySelectorAll(".anim-item");function h(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+i}}function u(){m.forEach(e=>{const t=e.offsetHeight,i=h(e).top;let s=window.innerHeight-t/4;t>window.innerHeight&&(s=window.innerHeight-window.innerHeight/4),scrollY>i-s&&scrollY<i+t?e.classList.add("animated"):e.classList.contains("no-re-animation")||e.classList.remove("animated")})}m.length>0&&(window.addEventListener("scroll",u),setTimeout(()=>{u()},150));let y=document.querySelectorAll(".about__desrc-term"),g=[],f=[];function v(){y.forEach((e,t)=>{const i=e.offsetHeight,s=h(e).top;let n=window.innerHeight-i/4;i>window.innerHeight&&(n=window.innerHeight-window.innerHeight/4),scrollY>s-n&&scrollY<s+i&&e.classList.contains("anim-item")&&(function(e,t,i,s){if(!Number.isFinite(parseInt(e)))return void console.log("The element is not a number");if(e=parseInt(e),s>e)return void console.log("The step cannot be more than a number");let n=0,r=s*Math.floor(e/s),o=e-r,a=Math.round(1500/(e/s)),l=setInterval(()=>{n+=s,n==e?clearInterval(l):n==r&&(n+=o,t.innerHTML=n,clearInterval(l)),t.innerHTML=n},a)}(f[t],e,0,g[t]),e.classList.remove("anim-item"))})}y.length>0&&(y.forEach(e=>{e.classList.add("anim-item"),f.push(e.innerText),g.push(Math.ceil(Number(e.innerText)/20)),e.innerHTML=0}),window.addEventListener("scroll",v),v()),document.querySelectorAll(".review__text").forEach(e=>{e.classList.add("partially-hidden"),e.addEventListener("click",()=>{e.classList.toggle("partially-hidden")})}),new class{elementsArray=[];daClassname="_dynamic_adapt_";constructor(e){this.type=e}init(){this.elements=[...document.querySelectorAll("[data-da]")],this.elements.forEach(e=>{const t=e.dataset.da.trim();if(""!==t){const i=t.split(","),s={};s.element=e,s.parent=e.parentNode,s.destination=document.querySelector(`.${i[0].trim()}`),s.breakpoint=i[1]?i[1].trim():"767",s.place=i[2]?i[2].trim():"last",s.type=i[3]?i[3].trim():this.type,s.originalIndex=this.indexInParent(s.parent,s.element),s.placeholder=this.createPlaceholder(e),this.elementsArray.push(s)}}),this.arraySort(this.elementsArray),this.mediaArray=[],this.elementsArray.forEach(({breakpoint:e,type:t})=>{const i=`(${t}-width: ${e}px),${e},${t}`;this.mediaArray.some(e=>e===i)||this.mediaArray.push(i)}),this.mediaArray.forEach(e=>{const t=e.split(","),i=window.matchMedia(t[0]),s=t[1],n=t[2],r=this.elementsArray.filter(({breakpoint:e,type:t})=>e===s&&t===n);i.addEventListener("change",()=>{this.mediaHandler(i,r)}),this.mediaHandler(i,r)})}createPlaceholder(e){const t=document.createElement("div");return t.style.display="none",t.classList.add(`${this.daClassname}placeholder`),t.setAttribute("data-da-placeholder","true"),e.parentNode.insertBefore(t,e),t}mediaHandler(e,t){e.matches?t.forEach(e=>{e.element.classList.contains(this.daClassname)||this.moveTo(e.place,e.element,e.destination)}):t.forEach(e=>{e.element.classList.contains(this.daClassname)&&this.moveBack(e)})}moveTo(e,t,i){if(t.classList.add(this.daClassname),"last"===e||e>=i.children.length)return void i.append(t);if("first"===e)return void i.prepend(t);const s=parseInt(e);!isNaN(s)&&i.children[s]?i.children[s].before(t):i.append(t)}moveBack(e){const{element:t,placeholder:i}=e;t.classList.remove(this.daClassname),i&&i.parentNode?i.parentNode.insertBefore(t,i):e.parent.appendChild(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:parseInt(e.place)-parseInt(t.place):parseInt(e.breakpoint)-parseInt(t.breakpoint)):e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:parseInt(t.place)-parseInt(e.place):parseInt(t.breakpoint)-parseInt(e.breakpoint))}destroy(){this.elementsArray.forEach(e=>{e.element.classList.contains(this.daClassname)&&this.moveBack(e),e.placeholder&&e.placeholder.parentNode&&e.placeholder.parentNode.removeChild(e.placeholder)}),this.elementsArray=[],this.mediaArray=[]}}("max").init(),new Swiper(".team__members",{navigation:{nextEl:".team__slider-btn--next",prevEl:".team__slider-btn--prev"},loop:!0,slidesPerView:"auto",initialSlide:0,simulateTouch:!0,breakpoints:{425:{slidesPerView:0,simulateTouch:!1}}}),new Swiper(".reviews__slider",{navigation:{nextEl:".reviews__slider-button--next",prevEl:".reviews__slider-button--prev"},loop:!1,loopAddBlankSlides:!0,spaceBetween:22,slidesPerView:1,grid:{rows:2,fill:"row"},breakpoints:{640:{slidesPerView:2,loop:!0,grid:{rows:1,fill:"row"}}}});document.querySelectorAll(".questions-item").forEach(e=>{const t=e.querySelector(".questions-item__header"),i=e.querySelector(".questions-item__body");t.addEventListener("click",s=>{s.stopPropagation(),e.classList.contains("active")?(e.classList.remove("active"),((e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("slide")},t)})(i,300),t.setAttribute("aria-expanded","false"),i.hidden=!0):(e.classList.add("active"),((e,t=500)=>{e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("slide")},t)})(i,300),t.setAttribute("aria-expanded","true"),i.hidden=!1)})});let w=!1;window.addEventListener("keydown",e=>{"Tab"===e.key&&(w=!0)}),window.addEventListener("mousedown",()=>{w=!1}),document.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("focus",()=>{w&&e.classList.add("focusable")}),e.addEventListener("blur",()=>{e.classList.remove("focusable")})})})();
